{"version":3,"file":"aframe-stock-ticker.modern.js","sources":["../src/stock-chart.js","../src/crypto-chart.js"],"sourcesContent":["AFRAME.registerComponent('stock-chart', {\r\n  schema: {\r\n    symbol: { default: 'AMC' },\r\n    interval: { default: '15min' },\r\n    length: { default: 100 },\r\n    refreshRate: { default: 5 }, //updates every x minutes\r\n    width: { default: 4 },\r\n    height: { default: 2 },\r\n    backgroundColor: { default: '#333' },\r\n    enableBackground: { default: true },\r\n    enableTitle: { default: true },\r\n    enablePrices: { default: true },\r\n    enableWicks: { default: true },\r\n  },\r\n\r\n  init: function () {\r\n    const data = this.data;\r\n    data.lastRefreshPrice;\r\n\r\n    requestTwelve(data.symbol, data.interval, data.length, window.TWELVE_API_KEY).then((timeseries) => {\r\n      this.timeseries = timeseries;\r\n      data.timeseries = timeseries;\r\n      this.updateChart();\r\n    });\r\n\r\n    //get data on a timer\r\n    setInterval(() => {\r\n      requestTwelve(data.symbol, data.interval, data.length, window.TWELVE_API_KEY).then((timeseries) => {\r\n        this.timeseries = timeseries;\r\n        data.timeseries = timeseries;\r\n        this.updateChart();\r\n      });\r\n    }, data.refreshRate * 1000 * 60);\r\n  },\r\n\r\n  updateChart: function () {\r\n    const el = this.el;\r\n    const data = this.data;\r\n    const { length: length, width: width, height: height, timeseries: timeseries } = data;\r\n    const values = timeseries.values;\r\n\r\n    //clear previous chart\r\n    while (el.firstChild) {\r\n      el.firstChild.remove();\r\n    }\r\n\r\n    //determine chart scale\r\n    const highs = values.map((item) => {\r\n      return item.high;\r\n    });\r\n    const lows = values.map((item) => {\r\n      return item.low;\r\n    });\r\n    const seriesMax = Math.max(...highs);\r\n    const seriesMin = Math.min(...lows);\r\n\r\n    //converts a price to a y positon on the chart\r\n    function scaleToChart(value) {\r\n      return ((value - seriesMin) / (seriesMax - seriesMin)) * height;\r\n    }\r\n\r\n    //create the candles\r\n    const candleWidth = width / length;\r\n    let i = 0;\r\n    values.forEach((candle) => {\r\n      i++;\r\n      const bar = document.createElement('a-box');\r\n      el.appendChild(bar);\r\n\r\n      bar.setAttribute('width', candleWidth);\r\n      bar.setAttribute('depth', candleWidth);\r\n\r\n      const candleHeight = scaleToChart(candle.open) - scaleToChart(candle.close);\r\n      bar.setAttribute('height', Math.abs(candleHeight));\r\n\r\n      const x = i * candleWidth - candleWidth / 2;\r\n      const heightAdj = candleHeight < 0 ? Math.abs(candleHeight) / 2 : Math.abs(candleHeight) / -2;\r\n      const y = scaleToChart(candle.open) + heightAdj;\r\n      bar.setAttribute('position', `${x} ${y} 0`);\r\n\r\n      const color = candleHeight < 0 ? '#f44' : '#4f4';\r\n      bar.setAttribute('color', color);\r\n\r\n      //create wicks\r\n      if (data.enableWicks == true) {\r\n        const wickHigh = document.createElement('a-box');\r\n        bar.appendChild(wickHigh);\r\n        wickHigh.setAttribute('width', candleWidth / 5);\r\n        wickHigh.setAttribute('depth', candleWidth / 5);\r\n\r\n        const wickHighHeight = Math.abs(scaleToChart(candle.high) - scaleToChart(candle.open)) / 2;\r\n        wickHigh.setAttribute('height', wickHighHeight);\r\n        wickHigh.setAttribute('color', color);\r\n        wickHigh.setAttribute('position', `0 ${wickHighHeight / 2} 0`);\r\n\r\n        const wickLow = document.createElement('a-box');\r\n        bar.appendChild(wickLow);\r\n        wickLow.setAttribute('width', candleWidth / 5);\r\n        wickLow.setAttribute('depth', candleWidth / 5);\r\n\r\n        const wickLowHeight = Math.abs(scaleToChart(candle.low) - scaleToChart(candle.open)) / 2;\r\n        wickLow.setAttribute('height', wickLowHeight);\r\n        wickLow.setAttribute('color', color);\r\n        wickLow.setAttribute('position', `0 ${wickLowHeight / -2} 0`);\r\n      }\r\n    });\r\n\r\n    //add background\r\n    if (data.enableBackground == true) {\r\n      const background = document.createElement('a-box');\r\n      el.appendChild(background);\r\n\r\n      const backgroundDepth = 0.05;\r\n      background.setAttribute('width', width);\r\n      background.setAttribute('height', height);\r\n      background.setAttribute('depth', backgroundDepth);\r\n      background.setAttribute('color', data.backgroundColor);\r\n      background.setAttribute('position', `${width / 2} ${height / 2} ${(-candleWidth - backgroundDepth) / 2}`);\r\n    }\r\n\r\n    //add title\r\n    if (data.enableTitle == true) {\r\n      const title = document.createElement('a-text');\r\n      el.appendChild(title);\r\n\r\n      const text = `${timeseries.meta.symbol} | ${timeseries.meta.interval}`;\r\n      title.setAttribute('value', text);\r\n      title.setAttribute('font', 'roboto');\r\n\r\n      const y = 0.155;\r\n      title.setAttribute('position', `0 ${y} ${-candleWidth / 2}`);\r\n    }\r\n\r\n    //add prices\r\n    if (data.enablePrices == true) {\r\n      const heightAdj = 0.1;\r\n\r\n      const priceLow = document.createElement('a-text');\r\n      el.appendChild(priceLow);\r\n      priceLow.setAttribute('scale', '.75 .75 1');\r\n      priceLow.setAttribute('font', 'roboto');\r\n      priceLow.setAttribute('align', 'right');\r\n      priceLow.setAttribute('value', `${Math.round(seriesMin * 100) / 100}`);\r\n      priceLow.setAttribute('position', `${width} ${heightAdj} ${-candleWidth / 2}`);\r\n\r\n      const priceHigh = document.createElement('a-text');\r\n      el.appendChild(priceHigh);\r\n      priceHigh.setAttribute('scale', '.75 .75 1');\r\n      priceHigh.setAttribute('font', 'roboto');\r\n      priceHigh.setAttribute('align', 'right');\r\n      priceHigh.setAttribute('value', `${Math.round(seriesMax * 100) / 100}`);\r\n      priceHigh.setAttribute('position', `${width} ${height - heightAdj} ${-candleWidth / 2}`);\r\n    }\r\n\r\n    //fire event based on price change\r\n    if (data.lastRefreshPrice !== undefined) {\r\n      const currentPrice = values[values.length - 1].close;\r\n      if (currentPrice > data.lastRefreshPrice) {\r\n        el.emit('price_increase', { name: data.symbol, price: currentPrice, candle: values[values.length - 1] }, true);\r\n      } else {\r\n        el.emit('price_decrease', { name: data.symbol, price: currentPrice, candle: values[values.length - 1] }, true);\r\n      }\r\n    }\r\n\r\n    data.lastRefreshPrice = values[values.length - 1].close;\r\n  },\r\n});\r\n\r\nfunction requestTwelve(symbol, interval, length, apiKey) {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(\r\n      `https://twelve-data1.p.rapidapi.com/time_series?symbol=${symbol}&interval=${interval}&outputsize=${length}&format=json`,\r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          'x-rapidapi-key': apiKey,\r\n          'x-rapidapi-host': 'twelve-data1.p.rapidapi.com',\r\n        },\r\n      }\r\n    )\r\n      .then((response) => {\r\n        response.json().then((data) => {\r\n          resolve(data);\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        reject(err);\r\n      });\r\n  });\r\n}\r\n","AFRAME.registerComponent('crypto-chart', {\r\n  schema: {\r\n    id: { default: 'Ethereum' }, //see '/coins/list' https://www.coingecko.com/en/api#explore-api\r\n    days: { default: 14 }, //1,7,14,30,90,180,365,max\r\n    refreshRate: { default: 1 }, //updates every x minutes\r\n    width: { default: 4 },\r\n    height: { default: 2 },\r\n    backgroundColor: { default: '#333' },\r\n    enableBackground: { default: true },\r\n    enableTitle: { default: true },\r\n    enablePrices: { default: true },\r\n    enableWicks: { default: true },\r\n  },\r\n\r\n  init: function () {\r\n    const data = this.data;\r\n    data.lastRefreshPrice;\r\n\r\n    requestGecko(data.id, data.days).then((timeseries) => {\r\n      this.timeseries = timeseries;\r\n      data.timeseries = timeseries;\r\n      this.updateChart();\r\n    });\r\n\r\n    //get data on a timer\r\n    setInterval(() => {\r\n      requestGecko(data.id, data.days).then((timeseries) => {\r\n        this.timeseries = timeseries;\r\n        data.timeseries = timeseries;\r\n        this.updateChart();\r\n      });\r\n    }, data.refreshRate * 1000 * 60);\r\n  },\r\n\r\n  updateChart: function () {\r\n    const el = this.el;\r\n    const data = this.data;\r\n    const { width: width, height: height, timeseries: timeseries } = data;\r\n    const values = timeseries.values;\r\n    const length = timeseries.meta.numCandles;\r\n\r\n    //clear previous chart\r\n    while (el.firstChild) {\r\n      el.firstChild.remove();\r\n    }\r\n\r\n    //determine chart scale\r\n    const highs = values.map((item) => {\r\n      return item.high;\r\n    });\r\n    const lows = values.map((item) => {\r\n      return item.low;\r\n    });\r\n    const seriesMax = Math.max(...highs);\r\n    const seriesMin = Math.min(...lows);\r\n\r\n    //converts a price to a y positon on the chart\r\n    function scaleToChart(value) {\r\n      return ((value - seriesMin) / (seriesMax - seriesMin)) * height;\r\n    }\r\n\r\n    //create the candles\r\n    const candleWidth = width / length;\r\n    let i = 0;\r\n    values.forEach((candle) => {\r\n      i++;\r\n      const bar = document.createElement('a-box');\r\n      el.appendChild(bar);\r\n\r\n      bar.setAttribute('width', candleWidth);\r\n      bar.setAttribute('depth', candleWidth);\r\n\r\n      const candleHeight = scaleToChart(candle.open) - scaleToChart(candle.close);\r\n      bar.setAttribute('height', Math.abs(candleHeight));\r\n\r\n      const x = i * candleWidth - candleWidth / 2;\r\n      const heightAdj = candleHeight < 0 ? Math.abs(candleHeight) / 2 : Math.abs(candleHeight) / -2;\r\n      const y = scaleToChart(candle.open) + heightAdj;\r\n      bar.setAttribute('position', `${x} ${y} 0`);\r\n\r\n      const color = candleHeight < 0 ? '#4f4' : '#f44';\r\n      bar.setAttribute('color', color);\r\n\r\n      //create wicks\r\n      if (data.enableWicks == true) {\r\n        const wickHigh = document.createElement('a-box');\r\n        bar.appendChild(wickHigh);\r\n        wickHigh.setAttribute('width', candleWidth / 5);\r\n        wickHigh.setAttribute('depth', candleWidth / 5);\r\n\r\n        const wickHighHeight = Math.abs(scaleToChart(candle.high) - scaleToChart(candle.open)) / 2;\r\n        wickHigh.setAttribute('height', wickHighHeight);\r\n        wickHigh.setAttribute('color', color);\r\n        wickHigh.setAttribute('position', `0 ${wickHighHeight / 2} 0`);\r\n\r\n        const wickLow = document.createElement('a-box');\r\n        bar.appendChild(wickLow);\r\n        wickLow.setAttribute('width', candleWidth / 5);\r\n        wickLow.setAttribute('depth', candleWidth / 5);\r\n\r\n        const wickLowHeight = Math.abs(scaleToChart(candle.low) - scaleToChart(candle.open)) / 2;\r\n        wickLow.setAttribute('height', wickLowHeight);\r\n        wickLow.setAttribute('color', color);\r\n        wickLow.setAttribute('position', `0 ${wickLowHeight / -2} 0`);\r\n      }\r\n    });\r\n\r\n    //add background\r\n    if (data.enableBackground == true) {\r\n      const background = document.createElement('a-box');\r\n      el.appendChild(background);\r\n\r\n      const backgroundDepth = 0.05;\r\n      background.setAttribute('width', width);\r\n      background.setAttribute('height', height);\r\n      background.setAttribute('depth', backgroundDepth);\r\n      background.setAttribute('color', data.backgroundColor);\r\n      background.setAttribute('position', `${width / 2} ${height / 2} ${(-candleWidth - backgroundDepth) / 2}`);\r\n    }\r\n\r\n    //add title\r\n    if (data.enableTitle == true) {\r\n      const title = document.createElement('a-text');\r\n      el.appendChild(title);\r\n\r\n      const text = `${timeseries.meta.symbol} | ${timeseries.meta.interval}`;\r\n      title.setAttribute('value', text);\r\n      title.setAttribute('font', 'roboto');\r\n\r\n      const y = 0.155;\r\n      title.setAttribute('position', `0 ${y} ${-candleWidth / 2}`);\r\n    }\r\n\r\n    //add prices\r\n    if (data.enablePrices == true) {\r\n      const heightAdj = 0.1;\r\n\r\n      const priceLow = document.createElement('a-text');\r\n      el.appendChild(priceLow);\r\n      priceLow.setAttribute('scale', '.75 .75 1');\r\n      priceLow.setAttribute('font', 'roboto');\r\n      priceLow.setAttribute('align', 'right');\r\n      priceLow.setAttribute('value', `${Math.round(seriesMin * 100) / 100}`);\r\n      priceLow.setAttribute('position', `${width} ${heightAdj} ${-candleWidth / 2}`);\r\n\r\n      const priceHigh = document.createElement('a-text');\r\n      el.appendChild(priceHigh);\r\n      priceHigh.setAttribute('scale', '.75 .75 1');\r\n      priceHigh.setAttribute('font', 'roboto');\r\n      priceHigh.setAttribute('align', 'right');\r\n      priceHigh.setAttribute('value', `${Math.round(seriesMax * 100) / 100}`);\r\n      priceHigh.setAttribute('position', `${width} ${height - heightAdj} ${-candleWidth / 2}`);\r\n    }\r\n\r\n    //fire event based on price change\r\n    if (data.lastRefreshPrice !== undefined) {\r\n      const currentPrice = values[values.length - 1].close;\r\n      if (currentPrice > data.lastRefreshPrice) {\r\n        el.emit('price_increase', { name: data.id, price: currentPrice, candle: values[values.length - 1] }, true);\r\n      } else {\r\n        el.emit('price_decrease', { name: data.id, price: currentPrice, candle: values[values.length - 1] }, true);\r\n      }\r\n    }\r\n\r\n    data.lastRefreshPrice = values[values.length - 1].close;\r\n  },\r\n});\r\n\r\nfunction requestGecko(id, days) {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`https://api.coingecko.com/api/v3/coins/ethereum/ohlc?vs_currency=usd&days=${days}`)\r\n      .then((response) => {\r\n        response.json().then((data) => {\r\n          const values = [];\r\n          data.forEach((candle) => {\r\n            values.push({\r\n              open: candle[1],\r\n              high: candle[2],\r\n              low: candle[3],\r\n              close: candle[4],\r\n            });\r\n          });\r\n          const interval = days <= 2 ? '30 min' : days >= 31 ? '4 day' : '4 hour';\r\n          const numCandles = Math.ceil(days <= 2 ? (days * 24) / 0.5 : days >= 31 ? days / 4 : (days * 24) / 4) + 1;\r\n          const meta = {\r\n            symbol: id,\r\n            interval: interval,\r\n            numCandles: numCandles,\r\n          };\r\n          const formatted = {\r\n            meta: meta,\r\n            values: values,\r\n          };\r\n          resolve(formatted);\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        reject(err);\r\n      });\r\n  });\r\n}\r\n"],"names":["requestTwelve","symbol","interval","length","apiKey","Promise","resolve","reject","fetch","method","headers","x-rapidapi-key","x-rapidapi-host","then","response","json","data","catch","err","requestGecko","id","days","values","forEach","candle","push","open","high","low","close","numCandles","Math","ceil","meta","AFRAME","registerComponent","schema","default","refreshRate","width","height","backgroundColor","enableBackground","enableTitle","enablePrices","enableWicks","init","this","window","TWELVE_API_KEY","timeseries","updateChart","setInterval","el","firstChild","remove","highs","map","item","lows","seriesMax","max","seriesMin","min","scaleToChart","value","candleWidth","i","bar","document","createElement","appendChild","setAttribute","candleHeight","abs","x","heightAdj","y","color","wickHigh","wickHighHeight","wickLow","wickLowHeight","background","backgroundDepth","title","priceLow","round","priceHigh","undefined","lastRefreshPrice","currentPrice","emit","name","price"],"mappings":"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"}